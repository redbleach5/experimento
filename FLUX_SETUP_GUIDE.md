# üî• –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Flux –º–æ–¥–µ–ª–∏ –≤ LM Studio

## ‚ö†Ô∏è –í–∞–∂–Ω–æ –ø—Ä–æ Flux

**Flux** - —ç—Ç–æ —á–∞—â–µ –≤—Å–µ–≥–æ **–≤–∏–¥–µ–æ–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–ª–∏ diffusion –º–æ–¥–µ–ª—å**, –∞ –Ω–µ LLM –¥–ª—è —Ç–µ–∫—Å—Ç–∞.

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ **—Ç–µ–∫—Å—Ç–æ–≤—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é**, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
- Llama 3
- Mistral
- Phi-4
- Qwen (–∫–∞–∫ —É –≤–∞—Å —Å–µ–π—á–∞—Å: `qwen3-30b-a3b-instruct-2507`)

## ‚úÖ –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å Flux –≤ —Ñ–æ—Ä–º–∞—Ç–µ GGUF

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞
- ‚úÖ –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ–∞–π–ª `.gguf` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `flux-1.0-Q4_K_M.gguf`)
- ‚ùå –ù–ï `.safetensors`, –ù–ï `.bin`

### –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ –≤ LM Studio
1. –û—Ç–∫—Ä–æ–π—Ç–µ LM Studio
2. Models ‚Üí ‚ûï Add Model
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É —Å `.gguf` —Ñ–∞–π–ª–æ–º
4. –û–±–Ω–æ–≤–∏—Ç–µ —Å–ø–∏—Å–æ–∫ (Refresh)

### –®–∞–≥ 3: –í—ã–±–æ—Ä –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è
**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- `Q4_K_M` - –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞
- `Q5_K_S` - –ª—É—á—à–µ –∫–∞—á–µ—Å—Ç–≤–æ, –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏

**–ò–∑–±–µ–≥–∞–π—Ç–µ:**
- `Q8` –∏–ª–∏ `FP16` - –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–Ω—É—Ç—å

### –®–∞–≥ 4: –¢–µ—Å—Ç –≤ Chat
1. Chat ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
3. –ï—Å–ª–∏ –æ—Ç–≤–µ—á–∞–µ—Ç - –º–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç!

## üî• –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API (—Ä–µ—à–µ–Ω–∏–µ 502)

### –ü—Ä–æ–±–ª–µ–º–∞: Chat —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 502

**–ü—Ä–∏—á–∏–Ω–∞:** API —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –≤–∫–ª—é—á–µ–Ω–∏—è!

### –†–µ—à–µ–Ω–∏–µ:

1. **Settings ‚Üí Local Server API**
   - ‚úÖ –í–∫–ª—é—á–∏—Ç–µ `Enable Local Server API`
   - ‚úÖ –ò–ª–∏ –Ω–∞–∂–º–∏—Ç–µ `Start Server`
   - ‚úÖ –ü–æ—Ä—Ç: 1234 (–∏–ª–∏ –¥—Ä—É–≥–æ–π —Å–≤–æ–±–æ–¥–Ω—ã–π)
   - ‚úÖ –ú–æ–¥–µ–ª—å: –≤—ã–±–µ—Ä–∏—Ç–µ —Ç—É –∂–µ, —á—Ç–æ –≤ Chat

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:**
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `Server running on http://localhost:1234`

3. **–¢–µ—Å—Ç API:**
   ```bash
   curl -X GET http://localhost:1234/health
   ```
   –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: `{"status": "healthy"}`

4. **–¢–µ—Å—Ç –∑–∞–ø—Ä–æ—Å–∞:**
   ```bash
   curl -X POST http://localhost:1234/v1/chat/completions \
     -H "Content-Type: application/json" \
     -d '{
       "model": "flux-1.0",
       "messages": [
         {"role": "user", "content": "–ü—Ä–∏–≤–µ—Ç!"}
       ]
     }'
   ```

## üîç –ü–æ—á–µ–º—É 502?

| –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|---------|---------|
| API –Ω–µ –≤–∫–ª—é—á–µ–Ω | –í–∫–ª—é—á–∏—Ç–µ `Enable Local Server API` |
| –ú–æ–¥–µ–ª—å –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–ª—è API | –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª—å —á–µ—Ä–µ–∑ "Reload" |
| –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç (1234) | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç (8080) |
| –ú–æ–¥–µ–ª—å —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è (Q8) | –°–º–µ–Ω–∏—Ç–µ –Ω–∞ Q4_K_M –∏–ª–∏ Q5_K_S |
| –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–∞–º—è—Ç–∏ | –ó–∞–∫—Ä–æ–π—Ç–µ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
python check_model_and_api.py
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
- ‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ú–æ–¥–µ–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã
- ‚úÖ –ú–æ–¥–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã

## üìå –î–ª—è –≤–∞—à–µ–π —Ç–µ–∫—É—â–µ–π –º–æ–¥–µ–ª–∏

–£ –≤–∞—Å —Å–µ–π—á–∞—Å: `qwen3-30b-a3b-instruct-2507`

–≠—Ç–æ **–æ—Ç–ª–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è —Ç–µ–∫—Å—Ç–∞**! –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Flux –≤–º–µ—Å—Ç–æ –Ω–µ—ë:

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ Flux –≤ LM Studio (–µ—Å–ª–∏ –µ—Å—Ç—å –≤ GGUF)
2. –û–±–Ω–æ–≤–∏—Ç–µ `config.yaml`:
   ```yaml
   model:
     model_name: "flux-1.0-Q4_K_M"
   ```
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≥–µ–Ω—Ç–∞

## üéØ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ health
curl http://localhost:1234/health

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–µ–π
curl http://localhost:1234/v1/models

# 3. –¢–µ—Å—Ç –∑–∞–ø—Ä–æ—Å–∞
python check_model_and_api.py
```

## üí° –í–∞–∂–Ω–æ

**Chat –∏ API - —ç—Ç–æ —Ä–∞–∑–Ω—ã–µ –≤–µ—â–∏!**

–ú–æ–¥–µ–ª—å –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ Chat, –Ω–æ –Ω–µ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ API, –µ—Å–ª–∏:
- Local Server API –Ω–µ –≤–∫–ª—é—á–µ–Ω
- –ú–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –¥–ª—è API
- –ï—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

## üöÄ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API –≤–∞—à –∞–≥–µ–Ω—Ç —Å–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å —á–µ—Ä–µ–∑ API.

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
python test_agent_direct.py
```

–ò–ª–∏ —á–µ—Ä–µ–∑ GUI:
```bash
python gui.py
```

